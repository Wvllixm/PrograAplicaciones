<ion-header [translucent]="true">
  <ion-toolbar color="tertiary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>
      <Lector>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div id="container" class="ion-padding">
    <ion-button expand="full" (click)="openScanner()" color="tertiary">Abrir Escáner de QR</ion-button>

    <div id="videoContainer" [ngClass]="{ 'hide-result': isScanning }">
      <video #videoElement autoplay="true"></video>
    </div>

    <ion-button expand="full" (click)="closeScanner()" color="tertiary">Cerrar Escáner de QR</ion-button>

    <div class="ion-padding" style="text-align: center;">
      <ion-label>Latitud {{ latitud }}</ion-label>
    </div>
  
    <div class="ion-padding" style="text-align: center;">
      <ion-label>Longitud {{ longitud }}</ion-label>
    </div>
    <ion-button expand="full" (click)="obtenerCoordenadas()" color="tertiary">Obtener tus Coordenadas</ion-button>
  


    <div *ngIf="userData && !isScanning">
      <h2>Información de la clase:</h2>
      <p>Nombre: {{ userData.nombre }}</p>
      <p>Apellido: {{ userData.apellido }}</p>
      <p>Rut: {{ userData.rut }}</p>
      <p>Carrera: {{ userData.carrera }}</p>
      <ul>
        <li *ngFor="let dato of userData.datosEscaneados">{{ dato }}</li>
      </ul>
    </div>

    <div id="containerCam">
      <img src="{{ imageSource }}" style="width: 400px;">
      <ion-button (click)="takePicture()" color="tertiary">Camera</ion-button>
    </div>
  </div>
</ion-content>